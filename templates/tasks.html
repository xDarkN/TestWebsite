<!DOCTYPE html>
<html>
<head>
  <title>Tasks</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
  <style>
    /* Existing CSS styles */

    /* Modal styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
    }

    /* New task button style */
    .new-task-button {
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    /* Task grid layout */
    .task-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      grid-gap: 20px;
      margin-top: 20px;
    }

    .task-card {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .task-card h3 {
      margin-top: 0;
    }

    .task-card p {
      margin-bottom: 0;
    }

    /* Top bar style */
    .top-bar {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .top-bar button {
      margin-right: 10px;
    }
  </style>
</head>
<body style="background-image: url('/static/uploads/background.jpeg');">
  {% include 'navbar.html' %}
  <div class="navbar">
    <!-- Navbar content -->
  </div>

  <div class="container">
    <!-- Existing container content -->

    <!-- Top bar -->
    <div class="top-bar">
      <button class="new-task-button" onclick="openModal()">Create a new Task</button>
      <button onclick="deleteTasks()">Delete Task</button>
      <button onclick="closeTasks()">Close Tasks</button>
    </div>

    <!-- Modal window -->
    <div class="modal" id="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <h2>Create a new Task</h2>
        <form method="POST" action="/tasks">
          <label for="task_name">Task Name:</label>
          <input type="text" id="task_name" name="task_name" required>
          <label for="task_priority">Task Priority:</label>
          <select id="task_priority" name="task_priority" required>
            <option value="ASAP">ASAP</option>
            <option value="Important">Important</option>
            <option value="Not important">Not important</option>
          </select>
          <label for="task_deadline">Task Deadline:</label>
          <input type="datetime-local" id="task_deadline" name="task_deadline" required>
          <button type="submit">Add Task</button>
        </form>
      </div>
    </div>

    <!-- Task grid -->
    <div class="task-grid">
      {% for task in tasks %}
      <div class="task-card">
        <h3>{{ task.task_name }}</h3>
        <p>Priority: {{ task.task_priority }}</p>
        <p>Deadline: {{ task.task_deadline }}</p>
      </div>
      {% endfor %}
    </div>
  </div>

  <script>
    function openModal() {
      const modal = document.getElementById("modal");
      modal.style.display = "block";
    }

    function closeModal() {
      const modal = document.getElementById("modal");
      modal.style.display = "none";
    }

    function deleteTasks() {
      // Logic to delete tasks
    }

    function closeTasks() {
      // Logic to close tasks
    }
  </script>
</body>
</html>
